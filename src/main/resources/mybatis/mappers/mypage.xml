<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.isix.easyGym.mypage.dao.MypageDAO">  <!-- namespace는 mapper의 이름을 정의 -->

	<resultMap type="memberDTO" id="memberResult">
        <result property="memberNo" column="memberNo"/>
        <result property="memberName" column="memberName"/>
        <result property="memberId" column="memberId"/>
        <result property="memberPwd" column="memberPwd"/>
        <result property="memberPhone" column="memberPhone"/>
        <result property="memberEmail" column="memberEmail"/>
        <result property="memberAddr" column="memberAddr"/>
        <result property="memberPost" column="memberPost"/>
        <result property="memberCreatedAt" column="memberCreatedAt"/>
        <result property="memberState" column="memberState"/>
        <result property="memberGender" column="memberGender"/>
        <result property="memberMarketing" column="memberMarketing"/>
    </resultMap>
 	
	<resultMap type="detailDTO" id="detailResult">
 		<result property="detailNo" column="detailNo"/>
 		<result property="detailDate" column="detailDate"/>
 		<result property="detailRoadAddress" column="detailRoadAddress"/>
 		<result property="detailBusinessName" column="detailBusinessName"/>
 		<result property="detailBusinessEng" column="detailBusinessEng"/>
 		<result property="detailDailyTicket" column="detailDailyTicket"/>
 		<result property="detailMonthlyTicket" column="detailMonthlyTicket"/>
 		<result property="detailScope" column="detailScope"/>
 		<result property="detailComment" column="detailComment"/>
 		<result property="detailServiceProgram" column="detailServiceProgram"/>
 		<result property="reviewNo" column="reviewNo"/>
 		<result property="detailStatus" column="detailStatus"/>
 		<result property="detailClassification" column="detailClassification"/>
 		<result property="detailFreeService" column="detailFreeService"/>
 		<result property="detailMonthlyPrice" column="detailMonthlyPrice"/>
 		<result property="detailKoClassification" column="detailKoClassification"/>
 		<result property="detailTest" column="detailTest"/>
 	</resultMap>
 	
 	<resultMap type="detailDibsDTO" id="detailDibsResult">
 		<result property="dibsNo" column="dibsNo"/>
 		<result property="detailNo" column="detailNo"/>
 		<result property="memberNo" column="memberNo"/>
 	</resultMap>
 	
 	<select id="selectAllDetail" resultMap="detailResult" parameterType="int">
 		<![CDATA[
 			select detailNo, detailBusinessName, detailKoClassification, detailRoadAddress from detail_tbl order by detailNo desc limit #{count}, 10
 		]]>
 	</select>  <!-- 페이징 => int -->
 	
 	<!-- 전체 글의 갯수를 가져오는 것 -->
 	<select id="selectToDibs" resultType="int">
 		<![CDATA[
 			select count(*) from detail_tbl
 		]]>
 	</select>
 	
 	<!-- 기존 게시글 다음(+1)에 새로 게시글 작성 -->
 	<select id="getNewArticleNo" resultType="int">
 		<![CDATA[
 			select max(articleNo)+1 from board_tbl
 		]]>
 	</select>
 	
 </mapper>