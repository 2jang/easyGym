<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.isix.easyGym.detail.dao.DetailDAO"> 

	<resultMap type="detailDTO" id="detailResult">
 		<result property="wholeNo" column="wholeNo"/>
 		<result property="wholeDate" column="wholeDate"/>
 		<result property="wholeRoadAddress" column="wholeRoadAddress"/>
 		<result property="wholeBusinessName" column="wholeBusinessName"/>
 		<result property="wholeBusinessEng" column="wholeBusinessEng"/>
 		<result property="wholeDailyTicket" column="wholeDailyTicket"/>
 		<result property="wholeMonthlyTicket" column="wholeMonthlyTicket"/>
 		<result property="wholeScope" column="wholeScope"/>
 		<result property="wholeDetail" column="wholeDetail"/>
 		<result property="wholeServiceProgram" column="wholeServiceProgram"/>
 		<result property="reviewNo" column="reviewNo"/>
 		<result property="wholeStatus" column="wholeStatus"/>
 		<result property="wholeClassification" column="wholeClassification"/>
 		<result property="wholeFreeService" column="wholeFreeService"/>
 		<result property="wholeMonthlyPrice" column="wholeMonthlyPrice"/>
 		<result property="wholeKoClassification" column="wholeKoClassification"/>
 		<result property="wholeTest" column="wholeTest"/>
 	</resultMap>
 	
 	<resultMap type="detailDibsDTO" id="detailDibsResult">
 		<result property="dibsNo" column="dibsNo"/>
 		<result property="wholeNo" column="wholeNo"/>
 		<result property="memberNo" column="memberNo"/>
 	</resultMap>
 	
 	<resultMap type="detailReviewDTO" id="detailReviewResult">
 		<result property="reviewNo" column="reviewNo"/>
 		<result property="reviewContent" column="reviewContent"/>
 		<result property="reviewDate" column="reviewDate"/>
 		<result property="memberNo" column="memberNo"/>
 	</resultMap>
 	
 	<select id="findAll" parameterType="String" resultMap="detailResult" >
		<![CDATA[
 			select * from whole_tbl where wholeClassification = #{wholeClassification}
 		]]>
	</select>
 	
 	<select id="findPopular" parameterType="java.util.Map" resultMap="detailResult">
		<![CDATA[
 			select * from whole_tbl where wholeStatus = #{wholeStatus} and wholeClassification = #{wholeClassification}
 		]]>
	</select>
 	
 	<select id="findDibs" parameterType="java.util.Map" resultMap="detailDibsResult">
		<![CDATA[
 			select * from detaildibs_tbl where wholeNo = #{wholeNo} and memberNo = #{memberNo}
 		]]>
	</select>
 
 	<delete id="removeDibs" parameterType="java.util.Map">
 		<![CDATA[
 			delete from dibs_tbl where memberNo=#{memberNo} and wholeNo = #{wholeNo}
 		]]>
 	</delete>
 	
 	<insert id="insertDibs" parameterType="java.util.Map">
 		<![CDATA[ 
 			insert into dibs_tbl values(#{dibsNo},#{wholeNo},#{memberNo})
 		]]>
 	</insert>
 	
  </mapper>